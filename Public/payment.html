<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tuition Seba Forum</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="style/navbar.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #5bc0de;
            --accent-color: #5cb85c;
            --dark-color: #2c3e50;
            --light-color: #f4f7f9;
        }

        html,
        body {
            overflow-x: hidden;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-color);
            color: #333;
        }

        body {
            padding-top: 20px;

        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <!-- Logo with circle class -->
            <a class="navbar-brand" href="/index.html">
                <img src="images/favicon.png" alt="Logo" class="logo">
                <span class="d-none d-sm-inline">Tuition Seba Forum</span>
                <span class="d-inline d-sm-none" style="font-size: 14px;">Tuition Seba Forum</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/#">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="tuitions.html">Available Tuitions</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="findTutor.html" target="_blank">
                            Find Tutor
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="payment.html" target="_blank">
                            Payment
                        </a>
                    </li>

                    <!-- Social Media Icons -->
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.facebook.com/profile.php?id=100093108041447"
                            target="_blank">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="whatsapp://send?phone=+8801540376020" target="_blank">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="apply-form" class="py-5 mt-3 mb-2">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="text-center mb-3">
                        <p class="fw-bold text-primary">
                            রিফান্ডের জন্য আবেদন করতে নিচের ফর্মটি পূরণ করুন।<br>
                            অথবা আমাদের কল করুন: 01540376020
                        </p>
                        <p class="fw-bold text-primary">
                            রিফান্ডের শর্তাবলি:
                            <button type="button" class="btn btn-sm btn-outline-info ms-2" data-bs-toggle="modal"
                                data-bs-target="#refundTermsModal" title="রিফান্ডের শর্তাবলি">
                                <i class="bi bi-info-circle"></i>
                            </button>
                        </p>

                    </div>
                    <div class="card shadow-lg border-0">
                        <div class="card-header ext-white text-center" style="background-color: var(--primary-color);">
                            <h5 class="mb-0 text-white">Request refund</h5>
                        </div>
                        <div class="card-body">
                            <form id="applyForm" novalidate>
                                <div class="mb-3">
                                    <label for="tuitionCode" class="form-label" style="font-weight: bold;">Type Tuition
                                        Code</label>
                                    <input type="text" class="form-control" id="tuitionCode" required>
                                    <div class="invalid-feedback">দয়া করে একটি বৈধ টিউশন কোড লিখুন।</div>
                                </div>
                                <div class="mb-3">
                                    <label for="paymentMethod" class="form-label" style="font-weight: bold;">Choose
                                        Bkash/ Nagad</label>
                                    <select class="form-select" id="paymentMethod" required>
                                        <option value="">Select payment number type</option>
                                        <option value="bkash">Bkash Personal</option>
                                        <option value="nagad">Nagad Personal</option>
                                    </select>
                                    <div class="invalid-feedback">দয়া করে একটি পেমেন্ট পদ্ধতি নির্বাচন করুন।</div>
                                </div>
                                <div class="mb-3">
                                    <label for="paymentNumber" class="form-label" style="font-weight: bold;">Type Number
                                        Bkash/Nagad</label>
                                    <input type="tel" class="form-control" id="paymentNumber" required>
                                    <div class="invalid-feedback">দয়া করে বিকাশ/নগদ নম্বরটি সঠিকভাবে লিখুন।</div>
                                </div>
                                <div class="mb-3">
                                    <label for="returnAmount" class="form-label" style="font-weight: bold;">Return
                                        Amount</label>
                                    <input type="number" class="form-control" id="returnAmount" required>
                                    <div class="invalid-feedback">দয়া করে ফেরত পরিমাণ লিখুন।</div>
                                </div>
                                <div class="mb-3">
                                    <label for="name" class="form-label" style="font-weight: bold;">Type Your
                                        Name</label>
                                    <input type="text" class="form-control" id="name" pattern="[A-Za-z\s]+"
                                        title="শুধুমাত্র অক্ষর এবং স্পেস ব্যবহার করুন" required>
                                    <div class="invalid-feedback">দয়া করে আপনার নাম লিখুন।</div>
                                </div>
                                <div class="mb-3">
                                    <label for="contact" class="form-label" style="font-weight: bold;">Type Your Contact
                                        Number/ Whatsapp Number</label>
                                    <input type="tel" class="form-control" id="contact" required
                                        title="দয়া করে একটি বৈধ ফোন নম্বর লিখুন।">
                                    <div class="invalid-feedback">দয়া করে একটি বৈধ যোগাযোগ নম্বর লিখুন।</div>
                                </div>
                                <div class="mb-3">
                                    <label for="note" class="form-label" style="font-weight: bold;">Note</label>
                                    <textarea class="form-control" id="note" rows="3" maxlength="500"></textarea>
                                </div>
                                <div class="mb-3">
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="agreeTerms">
                                        <label class="form-check-label" for="agreeTerms">
                                            I agree with the <a href="#" data-bs-toggle="modal"
                                                data-bs-target="#refundTermsModal">refund terms and conditions</a>.
                                        </label>
                                        <div id="termsError" class="text-danger d-none mt-1">You must agree with the
                                            refund terms and conditions.</div>
                                    </div>

                                </div>
                            </form>
                        </div>
                        <div class="card-footer text-center d-flex justify-content-between">

                            <button type="reset" class="btn btn-secondary" form="applyForm"
                                onclick="resetForm()">Reset</button>
                            <button type="submit" class="btn btn-success" form="applyForm">Apply</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-primary" id="successModalLabel">Success</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center">
                        <i class="bi bi-check-circle" style="color: green; font-size: 2rem;"></i>
                        <h4 style="color: green;">আপনার আবেদন সফল হয়েছে!</h4>
                    </div>
                    <br>
                    দ্রুত সময়ের মধ্যে আমাদের একজন এজেন্ট আপনার সঙ্গে যোগাযোগ করবেন।
                    <br><br>
                    <hr />
                    Tuition Seba Forum-এর সাথে থাকার জন্য ধন্যবাদ।
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-white text-center text-dark py-3 mt-5">
        <div class="container">
            Tuition Seba Forum &copy; All Rights Reserved
        </div>
    </footer>

    <!-- Stylish Refund Terms Modal -->
    <div class="modal fade" id="refundTermsModal" tabindex="-1" aria-labelledby="refundTermsLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content border-0 rounded-5 shadow-lg overflow-hidden animate__animated animate__fadeIn">

                <!-- Elegant Gradient Header -->
                <div class="modal-header text-white p-4"
                    style="background: linear-gradient(135deg, #6f42c1, #0d6efd); border-bottom: none;">
                    <h5 class="modal-title fw-bold fs-4" id="refundTermsLabel">📜 রিফান্ড নীতিমালা</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body px-5 py-4 text-secondary" style="font-size: 1.1rem; line-height: 1.8;">
                    <h6 class="fw-semibold mb-3">ফি রিটার্ণ পলিসি:</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><strong>১.</strong> অভিভাবক থেকে টিউশন কনফার্ম হওয়ার পরে এক সপ্তাহ পড়ানোর পর
                            মানা করে দিলে মিডিয়া ফি এর <strong>১০০%</strong> ফেরত পাবেন।</li>
                        <li class="mb-2"><strong>২.</strong> অভিভাবক থেকে টিউশন কনফার্ম হওয়ার পর দুই সপ্তাহ পড়ানোর পর
                            মানা করে দিলে মিডিয়া ফি এর <strong>৭৫%</strong> ফেরত পাবেন।</li>
                        <li class="mb-2"><strong>৩.</strong> অভিভাবক থেকে টিউশন কনফার্ম হওয়ার পর এক মাস পড়িয়েছেন। এক
                            মাসের বেতন দিয়ে মানা করে দিলে মিডিয়া ফি এর <strong>৫০%</strong> ফেরত পাবেন।</li>
                        <li class="mb-2"><strong>৪.</strong> আমার কোনো ভুল/কথার সাথে মিল না থাকলে <strong>পুরো টাকা
                                ফেরত</strong>। বিশেষ কারণ ছাড়া আপনি ছেড়ে দিলে পাবেন না। তবে যদি প্রাসঙ্গিক কোনো কারণ
                            দেখাতে পারেন সে বিষয়ে কথা বলে উভয় পক্ষ থেকে সিদ্ধান্ত নিবো। কোনো কিছু না বুঝতে পারলে আরও
                            বিস্তারিত আলোচনার জন্য প্রশ্ন করুন আমাকে।</li>
                        <li class="mb-2"><strong>৫.</strong> প্রথম মাসের পর টিউশন ধরে রাখা আপনার দায়িত্বশীলতা এবং
                            পারফরম্যান্সের নির্ভর করে। তাই প্রথম মাসের বেতন পাওয়ার পর আর কোন অভিযোগ গ্রহণযোগ্য হবে না।
                        </li>
                        <li class="mb-2"><strong>৬.</strong> টিউশন বাতিল হলে যেদিন বাতিল হয়েছে সেদিন থেকে ১৫ দিনের মধ্যে
                            অন্য টিউশন রিপ্লেস দেওয়া হবে। ১৫ দিনের মধ্যে রিপ্লেস না হলে পরবর্তী ৭ দিনের মধ্যে রিফান্ড
                            পলিসি
                            অনুযায়ী আপনার সার্ভিস চার্জ রিফান্ড দেওয়া হবে।</li>
                        <li class="mb-2"><strong>৭.</strong> আপনি টিউশনে অনিয়মিত, যত সময় পড়ানোর কথা তত সময় দিচ্ছেন না
                            সেক্ষেত্রে টিউশন চলে গেলে কোন সার্ভিস চার্জ ফেরত দেওয়া হবে না।</li>
                        <li class="mb-2"><strong>৮.</strong> আপনার ব্যক্তিগত কারণে টিউশন চলে গেলে অথবা ছেড়ে দিলে কোন
                            সার্ভিস চার্জ ফেরত দেওয়া হবে না।</li>
                        <li class="mb-2"><strong>৯.</strong> মেয়ে টিচারদের ক্ষেত্রে গার্ডিয়ানের বাসায় প্রথম দিন যাওয়ার
                            সময় অবশ্যই একজন পুরুষ গার্ডিয়ান সাথে নিয়ে যাবেন।</li>
                    </ul>
                    <div class="alert alert-info mt-4 border-0 shadow-sm rounded-4">
                        ❓ <em>কোনো কিছু না বুঝলে বা ব্যাখ্যার প্রয়োজন হলে নির্দ্বিধায় যোগাযোগ করুন।</em>
                    </div>
                </div>


                <!-- Footer -->
                <div class="modal-footer bg-light p-3 justify-content-end border-top">
                    <button type="button" class="btn btn-dark px-4 py-2 rounded-pill" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-1"></i> Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- logo section -->
    <div id="whatsapp-floating">
        <div class="textcard">
            <span class="bold-text">Need help? Chat with us</span>
        </div>
        <a href="whatsapp://send?phone=+8801540376020" target="_blank" title="Need Help? Chat Us">
            <img src="images/wp-icon.png" alt="WhatsApp" />
        </a>
    </div>
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/SplitText.min.js"></script>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>

        function resetForm() {
            document.getElementById('applyForm').reset();
            document.getElementById('applyForm').classList.remove('was-validated');
        }

        document.getElementById('applyForm').addEventListener('submit', async function (event) {
            event.preventDefault();

            const formData = {
                tuitionCode: document.getElementById('tuitionCode').value.trim(),
                paymentType: document.getElementById('paymentMethod').value.trim(),
                paymentNumber: parseInt(document.getElementById('paymentNumber').value),
                personalPhone: parseInt(document.getElementById('contact').value),
                amount: parseFloat(document.getElementById('returnAmount').value),
                name: document.getElementById('name').value.trim(),
                note: document.getElementById('note').value.trim(),
            };

            const agreeCheckbox = document.getElementById('agreeTerms');
            const termsError = document.getElementById('termsError');

            if (!agreeCheckbox.checked) {
                termsError.classList.remove('d-none');
                agreeCheckbox.focus();
                return;
            } else {
                termsError.classList.add('d-none');
            }

            if (!this.checkValidity()) {
                event.stopPropagation();
                this.classList.add('was-validated');
                return;
            }

            try {
                const response = await fetch('https://tuition-seba-backend-1.onrender.com/api/refund/add', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    const myModal = new bootstrap.Modal(document.getElementById('successModal'));
                    myModal.show();
                    resetForm();
                } else {
                    alert('Error submitting application');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred. Please try again later.');
            }
        });

    </script>
</body>

</html>