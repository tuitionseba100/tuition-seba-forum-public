<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tuition Seba Forum</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Owl Carousel CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
        rel="stylesheet">
    <!-- Add Animate.css for text animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #5bc0de;
            --accent-color: #5cb85c;
            --dark-color: #2c3e50;
            --light-color: #f4f7f9;
        }

        #whatsapp-floating {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #whatsapp-floating .textcard {
            background-color: white;
            padding: 6px 12px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #whatsapp-floating span {
            font-size: 11px;
            /* Reduced text size */
            color: #333;
        }

        #whatsapp-floating .bold-text {
            font-weight: bold;
            /* Only "Chat with us" will be bold */
        }

        #whatsapp-floating img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        #whatsapp-floating img:hover {
            transform: scale(1.1);
        }


        html,
        body {
            overflow-x: hidden;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-color);
            color: #333;
        }

        .db-btn-capsule {
            border-radius: 50px;
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            /* Ensure text is readable */
            border: none;
            /* Remove any border */
        }

        /* Navbar Styling */
        .navbar {
            background-color: var(--primary-color);
            box-shadow: 0 2px 15px rgba(74, 144, 226, 0.2);
        }

        .navbar-brand {
            font-weight: 700;
            color: white !important;
        }

        /* Change navbar text color to white */
        .navbar-nav .nav-link {
            color: white;
            /* Set text color to white */
        }

        .navbar-nav .nav-link:hover {
            color: red;
            /* Change color to red on hover */
        }

        /* Social media icons */
        .navbar-nav .nav-link i {
            font-size: 18px;
            margin-left: 10px;
            color: white;
        }

        .navbar-nav .nav-link i:hover {
            color: #25d366;
            /* WhatsApp green color for hover */
        }

        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 90px 0 40px;
            position: relative;
            overflow: hidden;
        }

        /* Gradient Background Animation */
        @keyframes gradient-shift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .hero-section {
            background-size: 200% 200%;
            animation: gradient-shift 15s ease infinite;
        }

        /* Floating Particle Animation */
        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background-color: rgba(255, 255, 255, 0.05);
            animation: float-particles 20s linear infinite;
            transform-origin: center;
        }

        @keyframes float-particles {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Heading Animation */
        .hero-section h1 {
            font-weight: 700;
            font-size: 3rem;
            color: white;
            animation: text-shimmer 3s infinite alternate;
            background: linear-gradient(45deg, white, #f0f0f0, #e0e0e0);
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }

        @keyframes text-shimmer {
            0% {
                background-position: 0% 50%;
            }

            100% {
                background-position: 100% 50%;
            }

            background-size: 200% 100%;
        }

        /* Button Hover and Pulse Animations */
        .hero-section .btn {
            border-radius: 50px;
            padding: 12px 30px;
            font-weight: 600;
            text-transform: uppercase;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .hero-section .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: all 0.6s;
        }

        .hero-section .btn:hover::before {
            left: 100%;
        }

        .hero-section .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .hero-section .btn {
            animation: pulse 2s infinite;
        }

        /* Tuition Cards */
        .tuition-card {
            border-radius: 15px;
            border: none;
            background: white;
            transition: all 0.4s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .tuition-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        /* Happy Clients Section */
        .happy-clients-section {
            background-color: white;
            padding: 30px 0;
        }


        .client-image {
            border-radius: 15px;
            max-height: 250px;
            width: 100%;
            object-fit: contain;
            /* Change this from cover to contain */
            transition: transform 0.3s ease;
        }

        .client-image:hover {
            transform: scale(1.05);
        }

        /* About Us Section */
        #about-us {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .map-container {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }


        .owner-photo {
            border: 4px solid white;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            max-height: 150px;
            /* Reduced height */
            width: auto;
            /* Auto width to maintain aspect ratio */
        }


        /* Navbar Logo Styling */
        .navbar-brand img.logo {
            width: 40px;
            /* Adjust as needed for the size of the logo */
            height: 40px;
            border-radius: 50%;
            /* Makes the logo circular */
            margin-right: 10px;
            /* Adds some space between the logo and the title */
        }

        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: white;
        }

        footer {
            background-color: #2C3E50;
            /* Darker background */
            color: #ecf0f1;
            /* Lighter text color */
        }

        footer a {
            color: #3498db;
            /* Light blue color for links */
            text-decoration: none;
            /* Remove underline */
            font-weight: bold;
            /* Make name bold */
        }

        footer a:hover {
            color: #e74c3c;
            /* Red color on hover */
            text-decoration: underline;
            /* Add underline on hover */
        }

        .highlighted-name {
            animation: highlight 1.5s ease-in-out infinite;
            /* Animation for highlighting */
        }

        @keyframes highlight {
            0% {
                color: #3498db;
            }

            50% {
                color: #f39c12;
            }

            100% {
                color: #3498db;
            }
        }

        .social-icons a {
            display: inline-block;
            width: 50px;
            /* Adjust the width */
            height: 50px;
            /* Adjust the height */
            overflow: hidden;
            border-radius: 50%;
            /* Make the icon circular */
            background-color: #f1f1f1;
            /* Optional: background color */
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
            /* Optional: add a shadow */
            text-align: center;
            line-height: 50px;
            /* Center the icon vertically */
        }

        .social-icons .social-icon {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Ensure the icon fits within the circle */
        }

        @media (max-width: 576px) {
            .pagination {
                font-size: 0.8rem;
                /* Smaller text on smaller screens */
            }

            .pagination-sm {
                padding: 0.5rem 1rem;
            }
        }

        @media (max-width: 767px) {
            .pagination {
                flex-wrap: wrap;
                justify-content: center;
            }

            .pagination .page-item {
                margin: 0.2rem;
            }
        }

        .button-hover i {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .button-hover:hover i {
            transform: translateY(-5px) rotate(15deg);
            opacity: 1.2;
        }
    </style>
</head>

<body>
    <!-- Navbar -->

    <head>
        <!-- Add Font Awesome CDN -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    </head>

    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <!-- Logo with circle class -->
            <a class="navbar-brand" href="/index.html">
                <img src="images/favicon.png" alt="Logo" class="logo">
                <span class="d-none d-sm-inline">Tuition Seba Forum</span> <!-- Hidden on extra small devices -->
                <span class="d-inline d-sm-none" style="font-size: 14px;">Tuition Seba Forum</span>
                <!-- Smaller text for xs devices -->
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="tuitions.html">Available Tuitions</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://wa.me/+88001891644064?text=আমার%20টিচার%20লাগবে"
                            target="_blank">
                            Find Tutor
                        </a>

                    </li>
                    <li class="nav-item"><a class="nav-link" href="#about-us">About Us</a></li>

                    <!-- Social Media Icons -->
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.facebook.com/profile.php?id=100093108041447"
                            target="_blank">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="whatsapp://send?phone=+8801540376020" target="_blank">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section text-center">
        <div class="container">
            <h1>Find the perfect tutor or tuition services</h1>
            <p class="lead mb-4">Connect with expert tutors tailored to your educational needs</p>
            <div>
                <a href="tuitions.html">
                    <button class="btn btn-light me-3 mb-3 mb-sm-0">Available Tuitions</button>
                </a>
                <a href="https://wa.me/+88001891644064?text=আমার%20টিচার%20লাগবে" <button
                    class="btn btn-outline-light mb-3 mb-sm-0">Find Tutor</button>
                </a>
            </div>
        </div>
    </div>

    <!-- Dashboard Section -->
    <section class="go-to-dashboard mt-3 text-center">
        <p style="font-family: 'Kalpurush', Arial, sans-serif; font-size: 18px; font-weight: bold; color: #1a73e8;">
            নিচের বাটনে ক্লিক করে আপনার আবেদনকৃত টিউশনগুলোর স্ট্যাটাস দেখুন
        </p>
        <a href="dashboard.html">
            <button class="btn btn-primary db-btn-capsule">Check your applied tuitions status</button>
        </a>
    </section>


    <section id="available-tuitions" class="py-5">
        <div class="container">
            <h2 class="text-center text-primary h-2 fw-bold mb-5">Available Tuitions</h2>
            <!-- Filter Section -->
            <div class="row">
                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <label for="genderFilter" class="form-label">Filter by Gender</label>
                    <select class="form-select" id="genderFilter" onchange="applyFilters()">
                        <option value="all">All</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>

                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <label for="searchBar" class="form-label">Search by tuition code</label>
                    <input type="text" class="form-control" id="tuitionCodeSearch" placeholder="Enter tuition code"
                        oninput="applyFilters()" />
                </div>
                <div class="col-12 col-md-3 mb-3 mb-md-0">
                    <label for="searchBar" class="form-label">Search by location</label>
                    <input type="text" class="form-control" id="locationSearch" placeholder="Enter location"
                        oninput="applyFilters()" />
                    <ul id="suggestionsList" class="list-group"
                        style="display: none; max-height: 200px; overflow-y: auto;"></ul>
                </div>



                <div class="col-12 col-md-3 d-flex justify-content-start align-items-center">
                    <button class="btn btn-primary" id="resetFiltersButton" onclick="resetFilters()">Reset
                        Filters</button>
                </div>
            </div>
            <div class="col-12 mt-3">
                <p id="tuitionCountText" class="text-muted text-center">Showing 0 tuitions out of 0</p>
            </div>
            <div class="row" id="tuitionCardContainer">
                <!-- Tuition Cards will be dynamically populated -->
            </div>

            <nav aria-label="Tuition Pagination" class="mt-4">
                <div class="container">
                    <ul class="pagination justify-content-center pagination-md" id="tuitionPagination">
                        <!-- Pagination will be dynamically populated -->
                    </ul>
                </div>
            </nav>
        </div>
    </section>

    <section class="happy-clients-section">
        <div class="container">
            <h2 class="text-center h-2 fw-bold text-primary mb-5">Happy Clients</h2>
            <div class="owl-carousel client-images-carousel">
                <!-- Client Card 1 -->
                <div class="card">
                    <img src="images/car1.png" alt="Client Success 1" class="card-img-top client-image">
                </div>
                <!-- Client Card 2 -->
                <div class="card">
                    <img src="images/car 2.png" alt="Client Success 2" class="card-img-top client-image">
                </div>
                <!-- Client Card 3 -->
                <div class="card">
                    <img src="images/car 3.png" alt="Client Success 3" class="card-img-top client-image">
                </div>
                <!-- Client Card 4 -->
                <div class="card">
                    <img src="images/car4.png" alt="Client Success 4" class="card-img-top client-image">
                </div>
                <div class="card">
                    <img src="images/car5.png" alt="Client Success 4" class="card-img-top client-image">
                </div>
                <div class="card">
                    <img src="images/car6.png" alt="Client Success 4" class="card-img-top client-image">
                </div>
                <div class="card">
                    <img src="images/car7.png" alt="Client Success 4" class="card-img-top client-image">
                </div>
                <div class="card">
                    <img src="images/car8.png" alt="Client Success 4" class="card-img-top client-image">
                </div>
            </div>
        </div>
    </section>

    <!-- About us Section -->
    <section id="about-us" class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-center">
                    <img src="images/profilepic.png" class="img-fluid rounded-circle owner-photo mb-4"
                        alt="Owner Photo">
                    <h3 class="fw-bold">Md Mahedi Hasan</h3>
                    <p>Founder & CEO</p>

                    <!-- Social Media Icons -->
                    <div class="social-icons mt-3">
                        <a href="whatsapp://send?phone=+8801540376020" target="_blank" class="mr-3">
                            <img src="images/wp logo.jpg" alt="WhatsApp" class="social-icon">
                        </a>
                        <a href="https://www.facebook.com/profile.php?id=100093108041447" target="_blank">
                            <img src="images/fb logo.png" alt="Facebook" class="social-icon">
                        </a>
                    </div>
                </div>
                <div class="col-md-6">
                    <h2 class="fw-bold">About Tuition Seba</h2>
                    <p><span style="font-weight: bold;">Tuition Seba</span> একটি সুপ্রতিষ্ঠিত এবং চট্টগ্রাম শহরের
                        অন্যতম একটি টিউশন মিডিয়া। আমাদের রয়েছে নিজস্ব অফিস ও দীর্ঘ কয়েক বছরের টিউশন ও গৃহশিক্ষক ও
                        শিক্ষিকা দেয়ার অভিজ্ঞতা। আস্থা ও বিশ্বস্ততায় আমরা একধাপ এগিয়ে।</p>

                    <div class="mt-4 d-flex justify-content-between">
                        <!-- Left side: Location and Contact -->
                        <div>
                            <h4 class="fw-bold">Our Location</h4>
                            <p>
                                25 number shop<br>
                                Sholoshohor Super Market, 2 no gate
                            </p>

                            <!-- Contact Information -->
                            <h4 class="fw-bold">Contact:</h4>
                            <p>01540376020</p>
                        </div>

                        <!-- Right side: Google Map -->
                        <div class="map-container">
                            <iframe
                                src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14643.819738078348!2d91.7866368!3d22.407142!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3751d5c4efb0c87d%3A0x5f4c81b91d772299!2sSholoshohor%20Super%20Market%2C%202%20no%20gate%2C%20Chattogram!5e0!3m2!1sen!2sbd!4v1713617288932!5m2!1sen!2sbd"
                                width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- we accept -->
    <section class="container py-5">
        <h2 class="text-center text-primary fw-bold mb-4">We Accept</h2>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
            <!-- বিকাশ সেন্ড মানি -->
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <img src="images/bkash.png" class="card-img-top rounded-top"
                        style="height: 200px; object-fit: cover;" alt="Bkash">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold">বিকাশ সেন্ড মানি</h5>
                        <p class="card-text fw-bold">01633920928</p>
                    </div>
                </div>
            </div>

            <!-- বিকাশ পেমেন্ট অপশন -->
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <img src="images/bkash.png" class="card-img-top rounded-top"
                        style="height: 200px; object-fit: cover;" alt="Bkash Payment">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold">বিকাশ পেমেন্ট অপশন</h5>
                        <p class="card-text fw-bold">01714045039</p>
                    </div>
                </div>
            </div>

            <!-- নগদ সেন্ড মানি -->
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <img src="images/nagad.png" class="card-img-top rounded-top"
                        style="height: 200px; object-fit: cover;" alt="Nagad">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold">নগদ সেন্ড মানি</h5>
                        <p class="card-text fw-bold">01633920928</p>
                    </div>
                </div>
            </div>

            <!-- রকেট সেন্ড মানি -->
            <div class="col">
                <div class="card h-100 border-0 shadow-sm">
                    <img src="images/rocket main ogo.jpg" class="card-img-top rounded-top"
                        style="height: 200px; object-fit: cover;" alt="Rocket">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold">রকেট সেন্ড মানি</h5>
                        <p class="card-text fw-bold">016339209284</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 text-center">
        <div class="container">
            <p>&copy; 2025 Tuition Seba. All Rights Reserved.</p>
            <p>Developed by: <a href="https://md-arif-uddin.netlify.app/" target="_blank">Md Arif Uddin, Software
                    Engineer</a></p>
        </div>
    </footer>

    <!-- logo section -->
    <div id="whatsapp-floating">
        <div class="textcard">
            <span class="bold-text">Need help? Chat with us</span>
        </div>
        <a href="whatsapp://send?phone=+8801540376020" target="_blank" title="Need Help? Chat Us">
            <img src="images/wp-icon.png" alt="WhatsApp" />
        </a>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/SplitText.min.js"></script>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script>
        let tuitions = [];


        async function fetchTuitionData() {

            let tuitionData = [];

            try {
                const response = await fetch(`https://tuition-seba-backend.onrender.com/api/tuition/all`);
                const data = await response.json();

                tuitionData = data.filter(tuition => tuition.isPublish === true).reverse();;

            } catch (error) {
                console.error("Error fetching tuition data:", error);
            }

            return tuitionData;
        }


        function resetFilters() {
            document.getElementById('genderFilter').value = 'all';
            document.getElementById('tuitionCodeSearch').value = '';
            document.getElementById('locationSearch').value = '';
            applyFilters();
        }

        let filteredTuitions = [];

        const locations = [
            'Katghor', 'Oxyzen', 'Still Mill Bazar', 'Bondartila', 'Freeport', 'Saltgola Crossing', 'Customs', 'Barek Building',
            'Agrabad', 'Boropol', 'Halishohor', 'Dewanhat', 'Noya bazar', 'Madarbari', 'Lalkhan Bazar', 'Wasa',
            'Dampara', 'Ak khan', 'Khulsi', 'Kajir Dewri', 'Alongkar', 'Andorkilla', 'Jamal khan', 'Panchlish',
            'New Market', 'Bayezid', '2 No Gate', 'Sholosohor', 'Muradpur', 'Chakbazar', 'Baddarhat', 'Rahattarpul',
            'Aturar Depo', 'Kaptai Rastahar Matha', 'Chandgao', 'Baluchora', 'Kalamia Bazar', 'Akbor Shah', 'City Gate'
        ];

        function applyFilters(page = 1, itemsPerPage = 6) {
            const genderFilter = document.getElementById('genderFilter').value.toLowerCase();
            const tuitionCodeQuery = document.getElementById('tuitionCodeSearch').value.toLowerCase();
            const locationQuery = document.getElementById('locationSearch').value.toLowerCase();

            const filteredLocations = locations.filter(location =>
                location.toLowerCase().includes(locationQuery)
            );

            const suggestionsList = document.getElementById('suggestionsList');
            suggestionsList.innerHTML = '';

            if (locationQuery) {
                if (filteredLocations.length > 0) {
                    filteredLocations.forEach(location => {
                        const listItem = document.createElement('li');
                        listItem.classList.add('list-group-item', 'list-group-item-action');
                        listItem.textContent = location;
                        listItem.onclick = () => {
                            document.getElementById('locationSearch').value = location;
                            suggestionsList.style.display = 'none';
                            applyFilters(page, itemsPerPage);
                        };
                        suggestionsList.appendChild(listItem);
                    });
                } else {
                    const listItem = document.createElement('li');
                    listItem.classList.add('list-group-item');
                    listItem.textContent = 'No locations found';
                    suggestionsList.appendChild(listItem);
                }
                suggestionsList.style.display = 'block';
            } else {
                suggestionsList.style.display = 'none';
            }

            filteredTuitions = tuitions.filter(tuition => {
                let matchesGender = true;
                let matchesTuitionCode = true;
                let matchesLocation = true;

                if (genderFilter !== 'all') {
                    const wantedTeacher = tuition.wantedTeacher?.toLowerCase();
                    if (!wantedTeacher) return false;

                    const hasBothGenders =
                        wantedTeacher.includes('male/female') ||
                        wantedTeacher.includes('male/ female') ||
                        wantedTeacher.includes('female/male') ||
                        wantedTeacher.includes('female/ male');

                    if (genderFilter === 'male') {
                        matchesGender = wantedTeacher.startsWith('male') || hasBothGenders;
                    } else if (genderFilter === 'female') {
                        matchesGender = wantedTeacher.startsWith('female') || hasBothGenders;
                    }
                }

                if (tuitionCodeQuery) {
                    matchesTuitionCode = tuition.tuitionCode?.toLowerCase().includes(tuitionCodeQuery);
                }

                if (locationQuery) {
                    matchesLocation = tuition.location?.toLowerCase().includes(locationQuery);
                }

                return matchesGender && matchesTuitionCode && matchesLocation;
            });

            renderTuitionCards(page, itemsPerPage);
        }

        document.addEventListener('click', function (event) {
            const suggestionsList = document.getElementById('suggestionsList');
            const locationSearch = document.getElementById('locationSearch');
            if (!locationSearch.contains(event.target) && !suggestionsList.contains(event.target)) {
                suggestionsList.style.display = 'none';
            }
        });

        document.getElementById('locationSearch').addEventListener('blur', function () {
            const suggestionsList = document.getElementById('suggestionsList');
            setTimeout(() => {
                suggestionsList.style.display = 'none';
            }, 150);
        });

        document.getElementById('locationSearch').addEventListener('focus', function () {
            const locationQuery = document.getElementById('locationSearch').value.toLowerCase();
            if (locationQuery) {
                applyFilters();
            }
        });

        function renderTuitionCards(page = 1, itemsPerPage = 6) {
            const container = document.getElementById('tuitionCardContainer');
            const paginationContainer = document.getElementById('tuitionPagination');
            container.innerHTML = '';
            paginationContainer.innerHTML = '';

            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedTuitions = filteredTuitions.slice(startIndex, endIndex);

            let row;
            for (let i = 0; i < paginatedTuitions.length; i++) {
                if (i % 3 === 0) { // Start a new row every 3 cards for large screens
                    row = document.createElement('div');
                    row.className = 'row';
                    container.appendChild(row);
                }

                const tuition = paginatedTuitions[i];

                const day = tuition["Day"];
                const time = tuition["Time"] || "Negotiable";

                const card = document.createElement('div');
                card.className = 'col-lg-4 col-md-6 col-sm-12'; // 3 per row on large, 2 per row on medium, 1 per row on small
                card.innerHTML = `
         <div class="card h-100 shadow-sm border-0 rounded-lg overflow-hidden">
            <div class="card-header bg-primary text-white py-3 text-center">
                <h5 class="card-title mb-0">
                    <i class="fas fa-chalkboard-teacher me-2"></i>
                    Tuition Code: ${tuition.tuitionCode}
                </h5>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-chalkboard-teacher me-2"></i>Wanted Teacher
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.wantedTeacher}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-user me-2"></i>Number of Students
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.student}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-graduation-cap me-2"></i>Class
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.class}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-book me-2"></i>Medium
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.medium}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-book me-2"></i>Subject
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.subject}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-calendar me-2"></i>Day
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.day}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-clock me-2"></i>Time
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.time}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-dollar-sign me-2"></i>Salary
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.salary}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-map-marker-alt me-2"></i>Location
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.location}</span>
                    </li>
                    <li class="list-group-item d-flex align-items-center">
                        <span class="d-flex align-items-center me-2 fw-semibold text-primary">
                            <i class="fas fa-calendar-check me-2"></i>Joining
                        </span>
                        <div class="border-start mx-2"></div>
                        <span class="text-dark fw-semibold ms-auto">${tuition.joining}</span>
                    </li>
                </ul>
            </div>
            <div class="card-footer bg-light text-center">
                <button
                    class="btn btn-primary btn-sm px-4 py-2 rounded-pill button-hover"
                    onclick="redirectToWhatsApp('${tuition.tuitionCode}')"
                >
                    <i class="fas fa-paper-plane me-2"></i>Apply Now
                </button>
            </div>

        </div>
        `;

                row.appendChild(card);
            }

            const totalPages = Math.ceil(filteredTuitions.length / itemsPerPage);

            const tuitionCountText = document.getElementById('tuitionCountText');
            tuitionCountText.innerHTML = `
        Page: 
        <span class="fw-bold text-primary">${page}</span> / 
        <span class="fw-bold text-primary">${totalPages}</span>
        ,
        Found 
        <span class="fw-bold text-success">${filteredTuitions.length}</span> 
        tuitions out of 
        <span class="fw-bold text-muted">${tuitions.length}</span>
        `;

            const paginationList = document.createElement('ul');
            paginationList.className = 'pagination justify-content-center mt-4 flex-wrap';

            const prevItem = document.createElement('li');
            prevItem.className = `page-item ${page === 1 ? 'disabled' : ''}`;
            prevItem.innerHTML = `<a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
        </a>`;
            if (page > 1) {
                prevItem.querySelector('a').addEventListener('click', (e) => {
                    e.preventDefault();
                    renderTuitionCards(page - 1);
                });
            }
            paginationList.appendChild(prevItem);

            for (let i = 1; i <= totalPages; i++) {
                const pageItem = document.createElement('li');
                pageItem.className = `page-item ${i === page ? 'active' : ''}`;
                pageItem.innerHTML = `<a class="page-link" href="#">${i}</a>`;
                pageItem.addEventListener('click', (e) => {
                    e.preventDefault();
                    renderTuitionCards(i);
                    scrollToSection('#available-tuitions');
                });
                paginationList.appendChild(pageItem);
            }

            const nextItem = document.createElement('li');
            nextItem.className = `page-item ${page === totalPages ? 'disabled' : ''}`;
            nextItem.innerHTML = `<a class="page-link" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
        </a>`;
            if (page < totalPages) {
                nextItem.querySelector('a').addEventListener('click', (e) => {
                    e.preventDefault();
                    renderTuitionCards(page + 1);
                    scrollToSection('#available-tuitions');
                });
            }
            paginationList.appendChild(nextItem);

            paginationContainer.appendChild(paginationList);
        }

        function redirectToWhatsApp(tuitionCode) {
            const phoneNumber = '+8801540376020';
            const tuitionDetails = tuitions.find(tuition => tuition.tuitionCode === tuitionCode);

            if (tuitionDetails) {
                const message = `
Tuition Code: ${tuitionDetails.tuitionCode}
Wanted Teacher: ${tuitionDetails.wantedTeacher}
Number of Students: ${tuitionDetails.student}
Class: ${tuitionDetails.class}
Medium: ${tuitionDetails.medium}
Subject: ${tuitionDetails.subject}
Day: ${tuitionDetails.day}
Time: ${tuitionDetails.time}
Salary: ${tuitionDetails.salary}
Location: ${tuitionDetails.location}
Joining: ${tuitionDetails.joining}

এই টিউশনটা (${tuitionDetails.tuitionCode}) কি এখনো আছে?`.trim();

                const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
                window.open(url, '_blank');
            }
        }


        function scrollToSection(sectionId) {
            const section = document.querySelector(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        $(document).ready(async function () {
            $('.client-images-carousel').owlCarousel({
                items: 3,
                loop: true,
                margin: 30,
                autoplay: true,
                autoplayTimeout: 3000,
                responsive: {
                    0: { items: 1 },
                    768: { items: 2 },
                    1024: { items: 3 }
                }
            });

            tuitions = await fetchTuitionData();
            filteredTuitions = [...tuitions];
            renderTuitionCards();
            applyFilters();
        });


    </script>
</body>

</html>